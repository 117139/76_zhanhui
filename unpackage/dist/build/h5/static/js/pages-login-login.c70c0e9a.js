(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"256f":function(t,e,i){"use strict";var n=i("f22e"),o=i.n(n);o.a},"70ae":function(t,e,i){"use strict";var n=i("4ea4");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=n(i("5530")),s=(n(i("e143")),n(i("bdd1"))),l=i("2f62"),c={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar,PageScroll:0,tel:"",code:"",yzm_type:0,yztime:60,pwd:"",pwd1:"",yhxy:!0,datas:"",login_type:1}},computed:(0,a.default)((0,a.default)({},(0,l.mapState)(["hasLogin","forcedLogin","userName","loginDatas"])),{},{style:function(){var t=this.StatusBar,e=this.CustomBar,i="height:".concat(e,"px;padding-top:").concat(t,"px;");return i},style1:function(){var t=this.StatusBar,e="top:".concat(t,"px;");return e}}),onLoad:function(){o=this},methods:(0,a.default)((0,a.default)({},(0,l.mapMutations)(["login","logindata"])),{},{back:function(){uni.navigateBack({delta:1})},getCode:function(){var t=this;if(""!=t.tel&&/^1\d{10}$/.test(t.tel)){if(1!=t.btnkg){t.btnkg=1;var e="/login/send_sms",i={phone:t.tel};-1==t.login_type&&(e="/user/forget_pass_send_sms"),s.default.get(e,i,(function(e){t.btnkg=0,1==e.data.code?(uni.showToast({icon:"none",title:"发送成功"}),console.log(e),t.codetime()):e.data.msg?uni.showToast({icon:"none",title:e.data.msg}):uni.showToast({icon:"none",title:"操作失败"})}),(function(e){t.btnkg=0,e.data.msg?uni.showToast({icon:"none",title:e.data.msg}):uni.showToast({icon:"none",title:"操作失败"})}))}}else wx.showToast({icon:"none",title:"手机号有误"})},codetime:function(){var t=this,e=60,i=setInterval((function(){if(0==e)t.yzm_type=0,clearInterval(i);else{var n=e--;t.yzm_type=1,t.yztime=n}}),1e3)},reg_fuc:function(){if(""!=o.tel&&/^1\d{10}$/.test(o.tel))if(o.code)if(o.pwd)if(o.pwd1)if(o.pwd==o.pwd1){var t={phone:o.tel,code:o.code,password:o.pwd,confirm_password:o.pwd1};console.log(t);var e="";0==o.login_type&&(e="/login/register",uni.showLoading({title:"正在注册"})),-1==o.login_type&&(e="/user/forget_password",t={phone:o.tel,code:o.code,new_password:o.pwd,confirm_password:o.pwd1},uni.showLoading({title:"正在提交"})),s.default.P_post(e,t).then((function(t){if(o.btn_kg=0,console.log(t),1==t.code){var e=t.data;console.log(typeof e),"string"==typeof e&&(e=JSON.parse(e)),0==o.login_type&&uni.showToast({icon:"none",title:"注册成功"}),-1==o.login_type&&(uni.setStorageSync("tel",o.tel),uni.setStorageSync("password",o.pwd),uni.showToast({icon:"none",title:"修改成功"})),o.login_type=1}else t.msg?uni.showToast({icon:"none",title:t.msg}):uni.showToast({icon:"none",title:"操作失败"})})).catch((function(t){o.btn_kg=0,console.log(t),uni.showToast({icon:"none",title:"操作失败"})}))}else uni.showToast({icon:"none",title:"两次密码不一致"});else uni.showToast({icon:"none",title:"请再次输入密码"});else uni.showToast({icon:"none",title:"请输入密码"});else uni.showToast({icon:"none",title:"请输入验证号"});else wx.showToast({icon:"none",title:"手机号有误"})},login_fuc:function(){if(""!=o.tel&&/^1\d{10}$/.test(o.tel)){if(1==o.login_type){if(!o.pwd)return void uni.showToast({icon:"none",title:"请输入密码"})}else if(!o.code)return void uni.showToast({icon:"none",title:"请输入验证码"});var t={};1==o.login_type&&(t={phone:o.tel,password:o.pwd}),2==o.login_type&&(t={type:2,phone:o.tel,verificationCode:o.code}),console.log(t),uni.showLoading({mask:!0,title:"正在登录"});var e="/login/login";s.default.P_post(e,t).then((function(t){if(o.btn_kg=0,console.log(t),1==t.code){var e=t.data;console.log(typeof e),"string"==typeof e&&(e=JSON.parse(e)),uni.showToast({icon:"none",title:"登录成功"}),uni.setStorageSync("tel",o.tel),uni.setStorageSync("password",o.pwd),uni.setStorageSync("token",e.token),uni.setStorageSync("userId",e.id),uni.setStorageSync("loginmsg",e),o.logindata(e),o.login(e.nickname),setTimeout((function(){uni.navigateBack({delta:1})}),1e3)}else t.msg?uni.showToast({icon:"none",title:t.msg}):uni.showToast({icon:"none",title:"操作失败"})})).catch((function(t){o.btn_kg=0,console.log(t),uni.showToast({icon:"none",title:"操作失败"})}))}else wx.showToast({icon:"none",title:"手机号有误"})},getdata:function(){var t=this,e={keyword:"fwsm"},i="/getClause";uni.showLoading({title:"正在获取数据"}),s.default.P_get(i,e).then((function(e){if(t.btn_kg=0,console.log(e),1==e.code){var i=e.data;console.log(typeof i),"string"==typeof i&&(i=JSON.parse(i)),t.datas=i[0].content,t.yhxy=!0,console.log(i)}else e.msg?uni.showToast({icon:"none",title:e.msg}):uni.showToast({icon:"none",title:"操作失败"})})).catch((function(e){t.btn_kg=0,console.log(e),uni.showToast({icon:"none",title:"获取数据失败，请检查您的网络连接"})}))},jump:function(t){var e=this;1!=e.btn_kg&&(e.btn_kg=1,setTimeout((function(){e.btn_kg=0}),1e3),s.default.jump(t))},getimg:function(t){return s.default.getimg(t)}})};e.default=c},"7bfc":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".zt_jb[data-v-cdd09112]{color:#ff7a0a\n\t\n\t/* background: linear-gradient(-90deg, #FC5534 0%, #FFBE33 100%);\n\t-webkit-background-clip: text;\n\t-webkit-text-fill-color: transparent; */}.minh100[data-v-cdd09112]{\n\n\n\t/* min-height: calc(100vh - 100upx); */\n}.my_bg[data-v-cdd09112]{position:absolute;top:0;left:0;width:100%;height:%?418?%;z-index:0}.my_box[data-v-cdd09112]{position:relative;z-index:1;min-height:100vh;\nmin-height:calc(100vh - %?100?%)\n}.head_box1[data-v-cdd09112]{position:relative}.head_box[data-v-cdd09112]{position:fixed;width:100%;top:0;left:0;\n\t/* text-align: center; */font-size:%?32?%;font-family:PingFang SC;font-weight:500;color:transparent;z-index:99999;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:all .5s;transition:all .5s;padding-right:%?220?%;-webkit-box-shadow:%?0?% %?0?% %?0?%;box-shadow:%?0?% %?0?% %?0?%;z-index:9999;overflow:hidden;background:#fff}.head_box_img[data-v-cdd09112]{position:absolute;top:0;width:100%;height:%?418?%;left:0;right:0}.my_tit_box[data-v-cdd09112]{width:calc(100% - %?440?%);position:absolute;text-align:center;\n\t/* width: calc(100% - 340rpx); */left:0;right:0;bottom:0;top:0;margin:auto;height:%?60?%;font-size:%?32?%;line-height:%?60?%;cursor:none;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.header_r[data-v-cdd09112]{font-size:%?30?%;color:#3c77f1;position:absolute;right:%?30?%;z-index:9999;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.header_l[data-v-cdd09112]{font-size:%?40?%;color:#000;position:absolute;left:%?10?%;z-index:9999;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.login_top[data-v-cdd09112]{font-size:%?50?%;color:#333;width:100%;padding:%?100?% %?30?% %?100?%;font-weight:700;margin-bottom:%?150?%}.login_box[data-v-cdd09112]{width:100%;padding:0 %?40?% %?40?%}.login_li[data-v-cdd09112]{width:100%;border-bottom:1px solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?90?%;margin-top:%?10?%}.login_icon[data-v-cdd09112]{width:%?50?%;margin-right:%?30?%;text-align:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.login_icon .iconfont[data-v-cdd09112]{font-size:%?50?%;color:#3e4150}.login_input[data-v-cdd09112]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%}.login_btn[data-v-cdd09112]{width:100%;height:%?88?%;background:#ff7a0a;\n\t/* background: linear-gradient(-90deg, #FC5534, #FFBE33); */-webkit-border-radius:%?44?%;border-radius:%?44?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?30?%;color:#fff;margin-top:%?60?%;margin-bottom:%?40?%}.login_cz[data-v-cdd09112]{width:100%;font-size:%?26?%;color:#777a89;margin-bottom:%?150?%}.login_yx[data-v-cdd09112]{font-size:%?26?%;color:#777a89;padding-bottom:%?20?%;text-align:center;width:100%}.yhxy_box[data-v-cdd09112]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:9999;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.yhxy_box_xy[data-v-cdd09112]{color:#007aff}.dyxy_box[data-v-cdd09112]{width:80%;\n\t/* min-height: 80%; */background-color:#fff;-webkit-border-radius:%?18?%;border-radius:%?18?%;padding:%?30?% %?44?%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.dyxy_tit[data-v-cdd09112]{text-align:center;font-size:%?36?%;color:#000;padding-bottom:%?20?%;border-bottom:1px solid #ddd;margin-bottom:%?26?%}.dyxy_inr[data-v-cdd09112]{font-size:%?28?%;color:#666;min-height:%?400?%;max-height:%?800?%;overflow:scroll}.next_btn[data-v-cdd09112]{margin:20px 10px 5px;font-size:%?28?%;color:#fff;-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?80?%;background:#3c77f1;-webkit-border-radius:%?18?%;border-radius:%?18?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.next_btn_cal[data-v-cdd09112]{background:#ddd}.getyzm[data-v-cdd09112]{width:%?164?%;height:%?47?%;background:#ff7a0a;\n\t/* background: linear-gradient(-90deg, #FC5534, #FFBE33); */-webkit-border-radius:%?24?%;border-radius:%?24?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#fff;font-size:%?26?%}",""]),t.exports=e},a042:function(t,e,i){"use strict";i.r(e);var n=i("dd1c"),o=i("b94b");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("256f");var s,l=i("f0c5"),c=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,"cdd09112",null,!1,n["a"],s);e["default"]=c.exports},b94b:function(t,e,i){"use strict";i.r(e);var n=i("70ae"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},dd1c:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"minh100"},[i("v-uni-image",{staticClass:"my_bg",attrs:{src:t.getimg("/static/images/mybg_01.png"),mode:""}}),i("v-uni-view",{staticClass:"my_box "},[i("v-uni-view",{staticClass:"login_top"},[t._v("欢迎您使用展会app")]),i("v-uni-view",{staticClass:"login_box"},[i("v-uni-view",{staticClass:"login_li"},[i("v-uni-view",{staticClass:"login_icon"},[i("v-uni-text",{staticClass:"iconfont icon-shouji1"})],1),i("v-uni-input",{staticClass:"login_input",attrs:{type:"number",placeholder:"请输入手机号"},model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}})],1),1!=t.login_type?i("v-uni-view",{staticClass:"login_li"},[i("v-uni-view",{staticClass:"login_icon"},[i("v-uni-text",{staticClass:"iconfont icon-mima"})],1),i("v-uni-input",{staticClass:"login_input",attrs:{type:"text",placeholder:"请输入验证号"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),0==t.yzm_type?i("v-uni-view",{staticClass:"getyzm",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v("获取验证码")]):t._e(),1==t.yzm_type?i("v-uni-view",{staticClass:"getyzm"},[t._v(t._s(t.yztime)+"s")]):t._e()],1):t._e(),2!=t.login_type?i("v-uni-view",{staticClass:"login_li"},[i("v-uni-view",{staticClass:"login_icon"},[i("v-uni-text",{staticClass:"iconfont icon-mima"})],1),i("v-uni-input",{staticClass:"login_input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}})],1):t._e(),1!=t.login_type&&2!=t.login_type?i("v-uni-view",{staticClass:"login_li"},[i("v-uni-view",{staticClass:"login_icon"},[i("v-uni-text",{staticClass:"iconfont icon-mima"})],1),i("v-uni-input",{staticClass:"login_input",attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:t.pwd1,callback:function(e){t.pwd1=e},expression:"pwd1"}})],1):t._e(),1==t.login_type||2==t.login_type?i("v-uni-view",{staticClass:"login_btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login_fuc.apply(void 0,arguments)}}},[t._v("登录")]):t._e(),0==t.login_type?i("v-uni-view",{staticClass:"login_btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reg_fuc.apply(void 0,arguments)}}},[t._v("注册")]):t._e(),-1==t.login_type?i("v-uni-view",{staticClass:"login_btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reg_fuc.apply(void 0,arguments)}}},[t._v("确定")]):t._e(),i("v-uni-view",{staticClass:"login_cz dis_flex aic ju_b"},[0!=t.login_type?i("v-uni-view",{staticClass:"zt_jb",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login_type=0}}},[t._v("立即注册")]):t._e(),0==t.login_type?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login_type=1}}},[t._v("已有账号？去登录")]):t._e(),1==t.login_type?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login_type=-1}}},[t._v("忘记密码？")]):t._e(),-1==t.login_type?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login_type=1}}},[t._v("去登录")]):t._e()],1),i("v-uni-view",{staticClass:"login_yx",attrs:{"data-url":"/pages/about/about?type=fwsm"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jump.apply(void 0,arguments)}}},[t._v("登录即代表您同意《展会服务声明》")])],1)],1)],1)},a=[]},f22e:function(t,e,i){var n=i("7bfc");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("c5e02404",n,!0,{sourceMap:!1,shadowMode:!1})}}]);